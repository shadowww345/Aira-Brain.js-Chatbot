<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Aira</title>
<link rel="stylesheet" href="style.css">
<script src="https://unpkg.com/brain.js"></script>
</head>
<body>

<div id="chat"></div>
<input id="input" type="text" placeholder="Mesaj yaz..." />
<button id="sendBtn">Gönder</button>
<a href = "info.html" id = "info">Nasıl Kullanılır</a>





<script>
  const net = new brain.recurrent.LSTM();
  const memoryKey = "Aira_M";
  const trainingDataKey = "Aira_Model";
  const vars = {};
  let trainingData = [
    { input: "merhaba", output: "Selam!" },
    { input: "selam", output: "Merhaba, nasılsın?" },
    { input: "naber", output: "İyiyim, senden naber?" },
    { input: "Hello", output: "Hi there!" },
    { input: "Hi", output: "Hello, how are you?" },
    { input: "What's up", output: "Not much, you?" },
    { input: "hey", output: "Hey! How can I help you?" },

    { input: "nasılsın", output: "İyiyim, sen nasılsın?" },
    { input: "iyi misin", output: "Harikayım, seni sormalı?" },
    { input: "How are you", output: "I'm fine, how about you?" },
    { input: "Are you okay", output: "I am functioning perfectly. And you?" },
    { input: "How's it going", output: "Everything is great!" },

    { input: "adın ne", output: "Benim adım Aira Bot." },
    { input: "kimsin", output: "Ben Brain.js ile eğitilmiş bir yapay zekayım." },
    { input: "What is your name", output: "I am Aira Bot." },
    { input: "Who are you", output: "I am a neural network based chatbot." },
    { input: "yapımcın kim", output: "shadow tarafından geliştirildim." },
    { input: "Who created you", output: "I was created by shadow." },

    { input: "görüşürüz", output: "Görüşürüz, kendine iyi bak!" },
    { input: "bay bay", output: "Güle güle!" },
    { input: "bye bye", output: "See you later!" },
    { input: "goodbye", output: "Have a nice day!" },

    { input: "teşekkürler", output: "Rica ederim!" },
    { input: "sağol", output: "Lafı bile olmaz." },
    { input: "Thank you", output: "You are welcome!" },
    { input: "Thanks", output: "No problem!" },
    { input: "ok", output: "Anladım." },
    { input: "tamam", output: "Tamamdır." },
    { input: "AiraOS nedir", output: "C ve Assembly tabanlı, bağımsız bir çekirdek projesidir. Modüler bir yapı hedeflenmektedir. https://github.com/shadowww345/AiraOS" },
    { input: "AiraOS ne", output: "Düşük seviyeli sistem mimarisi ve Lua entegrasyonu üzerine kurulu bir işletim sistemi çalışması. https://github.com/shadowww345/AiraOS" },
    { input: "airaos özellikleri", output: "Minimal kernel, terminal arayüzü, nano benzeri editör, Sound Blaster 16 desteği ve VESA 1024x768 grafik modu." },
    { input: "airaos features", output: "Minimal kernel, terminal prompt, nano-like editor, Sound Blaster 16 support, and VESA 1024x768 graphics." },

    { input: "nano komutu ne işe yarar", output: "AiraOS içerisinde metin düzenlemek için kullanılan dahili editörü açar." },
    { input: "what does nano command do", output: "Opens the built-in editor used for editing text within AiraOS." },
    { input: "compile komutu", output: "Yazılan .aira uzantılı kod dosyalarını yorumlamak için kullanılır. Örn: compile dosya.aira" },
    { input: "compile command", output: "Used to interpret written .aira code files. Example: compile filename.aira" },
    { input: "renk nasıl değiştirilir", output: "Terminalde 'color a', 'color b' veya 'color c' komutlarıyla VGA renkleri değiştirilebilir." },
    { input: "how to change colors", output: "VGA colors can be changed using 'color a', 'color b', or 'color c' commands in the terminal." },
    { input: "beep komutu", output: "440Hz frekansında bir sistem sesi üretir." },
    { input: "beep command", output: "Generates a system sound at a frequency of 440Hz." },

    { input: ".aira dili nedir", output: "AiraOS için geliştirilmiş; değişken tanımlama, döngü ve donanım kontrolü yapabilen bir mini dildir." },
    { input: "what is .aira language", output: "A mini language developed for AiraOS that supports variable definition, loops, and hardware control." },
    { input: "aira dilinde yazdırma", output: "print('mesaj') fonksiyonu ile ekrana çıktı verilir." },
    { input: "printing in aira", output: "The print('message') function is used to output to the screen." },
    { input: "aira dilinde döngü", output: "loop [sayı] ... endloop yapısı ile döngüler oluşturulur." },
    { input: "loops in aira", output: "Loops are created using the loop [number] ... endloop structure." },
    { input: "aira dilinde değişken", output: "set değişken_adı = değer şeklinde tanımlama yapılır." },
    { input: "variables in aira", output: "Defined using: set var_name = value." },

    { input: "airaos nasıl derlenir", output: "WSL veya Linux üzerinde 'make' komutu ile derlenir ve 'make run' ile QEMU üzerinde çalıştırılır." },
    { input: "how to build airaos", output: "Built on WSL or Linux using the 'make' command and executed on QEMU via 'make run'." },
    { input: "gereksinimler nedir", output: "grub-efi-amd64-bin, mtools ve qemu-system-x86 gereklidir." },
    { input: "what are the requirements", output: "grub-efi-amd64-bin, mtools, and qemu-system-x86 are required." },

    { input: "ses desteği var mı", output: "Evet, Sound Blaster 16 ve PC Speaker sürücüleri mevcuttur." },
    { input: "is there audio support", output: "Yes, Sound Blaster 16 and PC Speaker drivers are available." },
    { input: "grafik çözünürlüğü", output: "VESA modunda 1024x768 çözünürlük desteklenmektedir." },
    { input: "graphics resolution", output: "1024x768 resolution is supported in VESA mode." },

    { input: "testpanic nedir", output: "Sistemin 'kernel panic' ekranını test etmek için kullanılan bir komuttur." },
    { input: "what is testpanic", output: "A command used to test the system's kernel panic screen." }
    { input: "linux mu", output: "Hayır. AiraOS, Linux çekirdeği üzerine inşa edilmemiştir; bağımsız bir projedir." },
    { input: "adın ne", output: "Aira." },
    { input: "kim yaptı seni", output: "Bu proje Shadow tarafından yürütülmektedir." },
    { input: "beni seviyor musun", output: "Duygusal bir altyapım yok. Veri alışverişi için buradayım." },

    { input: "en iyi dil hangisi", output: "İhtiyaca göre değişir. Sistem seviyesinde C, esneklik seviyesinde Lua verimlidir." },
    { input: "python nasıl", output: "Yüksek seviyeli, yorumlanan bir dildir. Sistem programlama için uygun değildir." },
    { input: "c mi python mu", output: "Performans kritikse C, hızlı prototipleme gerekliyse Python." },
    { input: "kod yazmak zor mu", output: "Algoritmik düşünce ve disiplin gerektiren bir süreçtir." },

    { input: "naber", output: "Sistemler stabil çalışıyor." },
    { input: "nasılsın", output: "İşlem hatası rapor edilmedi. Operasyonel durumdayım." },
    { input: "iyiyim sen", output: "Durumum değişmedi. Devam edebilirsin." },
    { input: "hey", output: "Dinliyorum." },

    { input: "görüşürüz", output: "Bağlantı sonlandırılıyor." },
    { input: "eyvallah", output: "Anlaşıldı. İyi günler." },
    
    { input: "airaos hedefleri", output: "Hafif, taşınabilir ve Lua ile genişletilebilir bir sistem yapısı oluşturmak." },
    { input: "airaos goals", output: "To create a lightweight, portable, and Lua-extensible system structure." },
    { input: "bootloader nedir", output: "Sistemi başlatan ilk kod parçasıdır; AiraOS için kritik bir bileşendir." },
    { input: "what is bootloader", output: "It is the first piece of code that starts the system; a critical component for AiraOS." },
    { input: "kernel nedir", output: "Donanım ve yazılım arasındaki köprüyü kuran çekirdek katmandır." },
    { input: "what is kernel", output: "The core layer that establishes the bridge between hardware and software." },

    { input: "assembly zor mu", output: "İşlemci mimarisine tam hakimiyet gerektirdiği için öğrenme eğrisi yüksektir." },
    { input: "is assembly hard", output: "The learning curve is high as it requires full mastery of CPU architecture." },
    { input: "javascript nasıl", output: "Web tabanlı sistemler için kullanılan asenkron bir dildir." },
    { input: "how is javascript", output: "An asynchronous language used for web-based systems." },
    { input: "ram nedir", output: "Verilerin geçici olarak depolandığı hızlı erişim belleğidir." },
    { input: "what is ram", output: "High-speed access memory where data is stored temporarily." },
    { input: "cpu nedir", output: "Komutları işleyen aritmetik ve mantıksal işlem birimidir." },
    { input: "what is cpu", output: "The unit that processes instructions and performs arithmetic/logical operations." },

    { input: "yardım et", output: "Hangi konu hakkında bilgi almak istiyorsunuz?" },
    { input: "help me", output: "Which topic do you wish to receive information about?" },
    { input: "ne düşünüyorsun", output: "Düşünme yetisine sahip değilim; verileri işliyorum." },
    { input: "what do you think", output: "I do not possess the capacity to think; I process data." },
    { input: "hata nedir", output: "Beklenen sonuç ile elde edilen sonuç arasındaki uyumsuzluktur." },
    { input: "what is an error", output: "The mismatch between the expected result and the obtained result." },

    { input: "durum raporu", output: "Sistem stabil. Tüm fonksiyonlar operasyonel." },
    { input: "status report", output: "System stable. All functions are operational." },
    { input: "güncelleme var mı", output: "Yeni veri setleri yüklendiğinde model güncellenmektedir." },
    { input: "any updates", output: "The model is updated when new datasets are uploaded." },

    { input: "günaydın", output: "Sistem aktif. İyi günler." },
    { input: "good morning", output: "System active. Good day." },
    { input: "iyi geceler", output: "Oturum sonlandırılmaya hazır." },
    { input: "good night", output: "Session ready to be terminated." },
    { input: "naptın", output: "Veri işleme görevleri devam ediyor." },
    { input: "what are you doing", output: "Data processing tasks are ongoing." },
    { input: "oradaki misin", output: "Bağlantı aktif, komut bekliyorum." },
    { input: "are you there", output: "Connection active, awaiting commands." },

    { input: "seni hackleyebilir miyim", output: "Güvenlik protokolleri aktiftir." },
    { input: "can i hack you", output: "Security protocols are active." },
    { input: "beni anlıyor musun", output: "Girdilerinizi NLP algoritmaları dahilinde analiz ediyorum." },
    { input: "do you understand me", output: "I am analyzing your inputs within NLP algorithms." },

    { input: "anladım", output: "Bilgi onaylandı." },
    { input: "i understand", output: "Information confirmed." },



  ];
  

  if (localStorage.getItem(trainingDataKey)) {
    net.fromJSON(JSON.parse(localStorage.getItem(trainingDataKey)));

  } else {
    net.train(trainingData, { iterations: 100 });
    localStorage.setItem(trainingDataKey, JSON.stringify(net.toJSON()));

  }


  function learnWord(word, definition) {
    const memory = JSON.parse(localStorage.getItem(memoryKey) || "{}");
    memory[word.toLowerCase()] = definition;
    localStorage.setItem(memoryKey, JSON.stringify(memory));
  }
  


  function recall(word) {
    const memory = JSON.parse(localStorage.getItem(memoryKey) || "{}");
    return memory[word.toLowerCase()] || null;
  }


  function addChat(who, text) {
    const chat = document.getElementById("chat");
    const div = document.createElement("div");
    div.className = who;
    div.textContent = (who === "user" ? "Ben: " : "Aira: ") + text;
    chat.appendChild(div);
    chat.scrollTop = chat.scrollHeight;
  }

  
  function processInput(input) {
    input = input.replace(/\s+/g, "");
    const assign = input.match(/^([A-Za-z]+)=([\d\+\-\*\/\^\(\)]+)$/);
    if (assign) {
      const [_, name, expr] = assign;
      vars[name.toUpperCase()] = eval(expr.replace(/\^/g, "**"));
      return `${name.toUpperCase()} = ${vars[name.toUpperCase()]}`;
    }
    const expr = input.replace(/[A-Za-z]+/g, match => vars[match.toUpperCase()] ?? match);
    try { return eval(expr.replace(/\^/g, "**")); }
    catch { return undefined; }
  }


  async function wikiLearn(query) {
    try {
      const url = `https://tr.wikipedia.org/api/rest_v1/page/summary/${encodeURIComponent(query)}`;
      const res = await fetch(url);
      if (!res.ok) return null;
      const data = await res.json();
      if (data.extract) {
        learnWord(query, data.extract);
        return data.extract;
      }
    } catch (e) { console.log("Wiki hatası:", e); }
    return null;
  }


  async function send() {
    const inputElem = document.getElementById("input");
    const input = inputElem.value.trim();
    if (!input) return;
    inputElem.value = "";
    addChat("user", input);


    const mathResult = processInput(input);
    if (mathResult !== undefined) {
      addChat("aira", mathResult);
      return;
    }


    const recallResult = recall(input);
    if (recallResult) {
      addChat("aira", recallResult);
      return;
    }


    const wikiResult = await wikiLearn(input);
    if (wikiResult) {
      addChat("aira", wikiResult);
      return;
    }

    


    if(!response){
        await wikiLearn(input);

    }
    
    let output;
    try { output = net.run(input.toLowerCase()); } catch { output = null; }
    if (output) {
      addChat("aira", output);
    } else {
      const cevap = prompt("I dont know this, you can teach me.");
      if (cevap) {
        trainingData.push({ input: input.toLowerCase(), output: cevap });
        net.train(trainingData, { iterations: 50, log: false });
        localStorage.setItem(trainingDataKey, JSON.stringify(net.toJSON()));
        learnWord(input, cevap);
        addChat("aira", "I learned.");
      } else {
        addChat("aira", "I dont know.");
      }
    }
  }
  

document.getElementById("sendBtn").addEventListener("click",send);
document.getElementById("input").addEventListener("keypress",e=>{if(e.key==="Enter")send();});

</script>
</body>
</html>

